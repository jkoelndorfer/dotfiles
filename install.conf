- clean: ['~']

- shell:
  - [mkdir -p ~/.kde4/share/apps, Creating directory .kde4/share/apps]
  - [mkdir -p ~/.config/git, Creating directory .config/git]
  - [mkdir -p ~/.config/autostart-scripts, Creating directory .config/autostart-scripts]

- link:
    ~/.dotfiles:
        path: ''
        relative: true
    ~/.vim:
        path: vim/vimdir/
        relative: true
    ~/.vimrc:
        path: vim/vimrc
        relative: true
    ~/.config/nvim:
        path: vim/vimdir/
        relative: true
    ~/.config/nvim/init.vim:
        path: vim/vimrc
        relative: true
    ~/.gvimrc:
        path: vim/gvimrc
        relative: true
    ~/.zprofile:
        path: zsh/zprofile
        relative: true
    # .zshrc is created by zsh automatically on first run, so we might actually have to
    # remove it.
    ~/.zshrc:
        path: zsh/zshrc
        relative: true
        force: true
    ~/.zshenv:
        path: zsh/zshenv
        relative: true
    ~/.tmux.conf:
        path: tmux/tmux.conf
        relative: true
    ~/.inputrc:
        path: general/inputrc
        relative: true
    ~/.yaourtrc:
        path: arch/yaourtrc
        relative: true
    ~/.alsoftrc:
        path: gaming/alsoftrc
        relative: true
    ~/.kde4/share/apps/konsole:
        path: kde/konsole
        relative: true
    ~/.minttyrc:
        path: cygwin/minttyrc
        relative: true
    ~/.vimperatorrc:
        path: firefox/vimperatorrc
        relative: true
    ~/.gitconfig:
        path: git/gitconfig
        relative: true
    ~/.config/git/ignore:
        path: git/ignore
        relative: true
    ~/.config/autostart-scripts/ssh-add:
        path: config/autostart-scripts/kde-ssh-add
        relative: true

- shell:
  - [git submodule sync, Syncing submodules]
  - [git submodule update --init --recursive, Installing submodules]
  - [test -n "$(which gem)" && gem install tmuxinator || true, Installing tmuxinator]
  - [ test -n "$SKIP_VIM_BUNDLE" || $SHELL -l -c '$VIM_BUNDLE_DIR/neobundle.vim/bin/neoinstall >& /dev/null', Installing vim plugins]
