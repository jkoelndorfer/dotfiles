#!/bin/bash

declare -A quicklaunch_entries
quicklaunch_entries=(
    [discord]='discord'
    [firefox]='firefox'
    ['logout']='i3-msg exit'
    [pavucontrol]='pavucontrol'
    [qutebrowser]='qutebrowser'
    [slack]='slack'
    [spotify]='spotify'
    [steam]='steam'
    [vlc]='vlc'
    [reboot]="$DOTFILE_DIR/bin/sysmgmt/reboot"
    [power off]="$DOTFILE_DIR/bin/sysmgmt/poweroff"
)

if [[ "$(basename "$0")" =~ ^x ]]; then
    launcher_cmd=($DOTFILE_DIR/bin/rofi -dmenu -no-custom -p launch)
else
    launcher_cmd=(fzf --prompt 'launch> ')
fi

selected="$(printf "%s\n" "${!quicklaunch_entries[@]}" | sort | "${launcher_cmd[@]}")"
if [[ -z "$selected" ]]; then
    echo 'no entry selected' >&2
    exit 1
fi
${quicklaunch_entries[$selected]}
