#!/bin/bash

# Prints data to stdout about the application that is currently focused
# in i3.

script_dir=$(dirname "$0")
cd "$script_dir"

read -r -d '' jq_query <<EOF
    recurse(.nodes[], .floating_nodes[]) | select(.focused == true) | .id
EOF

win_id=$(./i3swaymsg -t get_tree | jq -r "$jq_query")
"./winfo" "$win_id"
