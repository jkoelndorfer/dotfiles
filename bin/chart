#!/bin/bash

art_to_copy="$1"

declare -A arts
arts=(
    [lenny face]='( ͡° ͜ʖ ͡° )'
    [shrug]='¯\\_(ツ)_/¯'
    [puts_on_sunglasses]="(•_•)\n( •_•)>⌐■-■\n(⌐■_■)"
    [flipping_tables]='(╯°□°）╯︵ ┻━┻)'
    [resetting_table]='┬─┬ノ( º _ ºノ)'
    [look_of_disapproval]='(ಠ_ಠ)'
    [myth_busted]='/:€'
    [why]='щ（ﾟДﾟщ）'
)

set -x
function display_arts() {
    for k in "${!arts[@]}"; do
        v="${arts[$k]}"
        art_display_val="$(echo -e "$v" | tr "\n" " ")"
        echo -e "${k}\t${art_display_val}"
    done | sort | column -s "$(echo -e '\t')" -t
}

if [[ "$(basename "$0")" == 'xchart' ]]; then
    presentation_tool=("$DOTFILE_DIR/bin/rofi" -dmenu -p "copy to clipboard")
else
    presentation_tool='fzf'
fi

selected_art=$(display_arts | "${presentation_tool[@]}" | awk '{ print $1 }')
if [[ -z "$selected_art" ]]; then
    echo "$0: No art selected" >&2
    exit 1
fi
echo -n "${arts[$selected_art]}" | "$DOTFILE_DIR/bin/copy-to-clipboard"
