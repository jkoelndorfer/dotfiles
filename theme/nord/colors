nord_xresources="$(cat "$DOTFILE_DIR/theme/nord/Xresources")"
for c in $(seq 0 15); do
    re="#define[ \t]+nord${c}[ \t]+(#[0-9A-Fa-f]+)"
    if [[ "$nord_xresources" =~ $re ]]; then
        [[ -n "$BASH_VERSION" ]] && m=("${BASH_REMATCH[@]}")
        [[ -n "$ZSH_VERSION" ]] && m=("${match[@]}")
        declare "NORD_NORD${c}"="${m[1]}"
    else
        echo "error: could not match regular expression '$re'" >&2
    fi
done

# Colors whose TERM16 values are -1 aren't used in the
# ANSI terminal colorscheme (see Xresources).
#
# For colors that occupy more than one ANSI color code,
# the lowest ANSI color code number is chosen.
NORD_NORD0_TERM16=-1
NORD_NORD1_TERM16=0
NORD_NORD2_TERM16=-1
NORD_NORD3_TERM16=8
NORD_NORD4_TERM16=-1
NORD_NORD5_TERM16=7
NORD_NORD6_TERM16=15
NORD_NORD7_TERM16=14
NORD_NORD8_TERM16=6
NORD_NORD9_TERM16=12
NORD_NORD10_TERM16=-1
NORD_NORD11_TERM16=1
NORD_NORD12_TERM16=-1
NORD_NORD13_TERM16=3
NORD_NORD14_TERM16=2
NORD_NORD15_TERM16=5

# For POLARNIGHT and SNOWSTORM, shade 0 is the darkest shade.
NORD_POLARNIGHT_0=$NORD_NORD0
NORD_POLARNIGHT_1=$NORD_NORD1
NORD_POLARNIGHT_2=$NORD_NORD2
NORD_POLARNIGHT_3=$NORD_NORD3

NORD_SNOWSTORM_0=$NORD_NORD4
NORD_SNOWSTORM_1=$NORD_NORD5
NORD_SNOWSTORM_2=$NORD_NORD6

NORD_FROST_SEAFOAM_GREEN=$NORD_NORD7
NORD_FROST_CYAN=$NORD_NORD8
NORD_FROST_LIGHT_BLUE=$NORD_NORD9
NORD_FROST_DARK_BLUE=$NORD_NORD10

NORD_AURORA_RED=$NORD_NORD11
NORD_AURORA_ORANGE=$NORD_NORD12
NORD_AURORA_YELLOW=$NORD_NORD13
NORD_AURORA_GREEN=$NORD_NORD14
NORD_AURORA_PURPLE=$NORD_NORD15

# Color descriptions that provide uniformity between themes.

COLORSCHEME_BG_SHADE_0=$NORD_POLARNIGHT_0
COLORSCHEME_BG_SHADE_1=$NORD_POLARNIGHT_1
COLORSCHEME_BG_SHADE_2=$NORD_POLARNIGHT_2
COLORSCHEME_BG_SHADE_3=$NORD_POLARNIGHT_3

COLORSCHEME_FG_SHADE_0=$NORD_SNOWSTORM_0
COLORSCHEME_FG_SHADE_1=$NORD_SNOWSTORM_1
COLORSCHEME_FG_SHADE_2=$NORD_SNOWSTORM_2
COLORSCHEME_FG_SHADE_3=$NORD_SNOWSTORM_2

COLORSCHEME_RED=$NORD_AURORA_RED
COLORSCHEME_ORANGE=$NORD_AURORA_ORANGE
COLORSCHEME_YELLOW=$NORD_AURORA_YELLOW
COLORSCHEME_GREEN=$NORD_AURORA_GREEN
COLORSCHEME_BLUE=$NORD_FROST_DARK_BLUE

COLORSCHEME_ACCENT1_SHADE_0=$NORD_FROST_LIGHT_BLUE
COLORSCHEME_ACCENT1_SHADE_1=$NORD_FROST_CYAN
COLORSCHEME_ACCENT1_SHADE_2=$NORD_FROST_SEAFOAM_GREEN

COLORSCHEME_ACCENT2_SHADE_0=$NORD_AURORA_PURPLE

COLORSCHEME_DESKTOP_BG_COLOR=$COLORSCHEME_BG_SHADE_0
COLORSCHEME_PRIMARY_FG_COLOR=$COLORSCHEME_FG_SHADE_0

# Theme variables that control specific applications.

COLORSCHEME_DUNST_BG_COLOR=$COLORSCHEME_BG_SHADE_1
COLORSCHEME_DUNST_FG_COLOR=$COLORSCHEME_PRIMARY_FG_COLOR
COLORSCHEME_DUNST_BORDER_COLOR=$COLORSCHEME_BG_SHADE_3

# Taken from https://github.com/ianchesal/nord-fzf with
# some slight modifications.

COLORSCHEME_FZF_FG=$NORD_NORD5
COLORSCHEME_FZF_BG=$NORD_NORD0
COLORSCHEME_FZF_HL=$NORD_NORD9

COLORSCHEME_FZF_FG_P=$NORD_NORD5
COLORSCHEME_FZF_BG_P=$NORD_NORD1
COLORSCHEME_FZF_HL_P=$NORD_NORD9

COLORSCHEME_FZF_INFO=$NORD_NORD13
COLORSCHEME_FZF_PROMPT=$NORD_NORD11
COLORSCHEME_FZF_POINTER=$NORD_NORD15
COLORSCHEME_FZF_MARKER=$NORD_NORD14
COLORSCHEME_FZF_SPINNER=$NORD_NORD15
COLORSCHEME_FZF_HEADER=$NORD_NORD14

# vim: ft=sh
