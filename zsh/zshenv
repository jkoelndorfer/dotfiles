#!/usr/bin/env zsh

REALHOME="$HOME"
if [[ -n "$SUDO_USER" ]]; then
    export REALHOME="$(getent passwd "$SUDO_USER" | awk -F: '{ print $6 }')"
fi
DOTFILE_DIR="$REALHOME/.dotfiles"
ZSH="$DOTFILE_DIR/zsh/oh-my-zsh"
ZSH_CUSTOM="$DOTFILE_DIR/zsh/custom"
DISABLE_AUTO_UPDATE='true'
export DOTFILE_DIR DISABLE_AUTO_UPDATE ZSH ZSH_CUSTOM

[[ -f "$REALHOME/.zshenv.local" ]] && source "$REALHOME/.zshenv.local"

# oh-my-zsh handles a lot of environment setup for us and shouldn't be dumping crap
# to stdout, so let's source it all the time.
source $ZSH/oh-my-zsh.sh
